<form
  autocomplete="off"
  novalidate
  [formGroup]="recipeForm"
  [sharedLoader]="isLoading"
  (ngSubmit)="onSubmit()"
>
  <div class="row mb-4">
    <div class="col-12 col-lg-8">
      <shared-form-input
        id="title"
        type="text"
        formControlName="title"
        label="Title"
        placeholder="Title"
      ></shared-form-input>
      <shared-form-textarea
        id="description"
        formControlName="description"
        label="Description"
        placeholder="Description"
      ></shared-form-textarea>
      <shared-form-textarea
        id="ingredients"
        describe="Put each ingredient on its own line."
        describedby="ingredientsHelp"
        formControlName="ingredients"
        label="Ingredients"
        placeholder="Ingredients"
      ></shared-form-textarea>
      <shared-form-textarea
        id="directions"
        describe="Put each step on its own line."
        describedby="directionsHelp"
        formControlName="directions"
        label="Directions"
        placeholder="Directions"
      ></shared-form-textarea>
    </div>
    <div class="col-12 col-lg-4">
      <div class="preview-image p-3 shadow mb-5 rounded-3">
        <img
          class="rounded-3"
          alt="Preview Cover Image"
          sharedDefaultImage="/assets/images/defaults/default-upload.png"
          [src]="
            coverImagePreview ||
              (recipe && recipe.coverImageURL ? recipe.coverImageURL : '')
              | safeUrl
          "
        />
      </div>
      <shared-form-input-file
        id="coverImage"
        formControlName="coverImage"
      ></shared-form-input-file>
      <shared-form-input
        id="preparationTime"
        type="number"
        formControlName="preparationTime"
        label="Preparation Time"
        placeholder="Preparation Time"
      ></shared-form-input>
      <shared-form-input
        id="cookingTime"
        type="number"
        formControlName="cookingTime"
        label="Cooking Time"
        placeholder="Cooking Time"
      ></shared-form-input>
      <shared-form-input
        id="servingsAmount"
        type="number"
        formControlName="servingsAmount"
        label="Servings Amount"
        placeholder="Servings Amount"
      ></shared-form-input>
    </div>
  </div>
  <div
    class="d-flex"
    [ngClass]="{
      'justify-content-between': !!recipe,
      'justify-content-end': !recipe
    }"
  >
    <button
      *ngIf="recipe"
      class="btn btn-danger btn-lg"
      type="button"
      (click)="recipeDelete.emit()"
    >
      <span><i class="bi bi-trash me-3"></i>Delete</span>
    </button>
    <div>
      <button
        class="btn btn-light btn-lg me-4"
        type="button"
        routerLink="/recipes"
      >
        Cancel
      </button>
      <button class="btn btn-primary btn-lg" type="submit">
        <i class="bi bi-save me-3"></i>Save
      </button>
    </div>
  </div>
</form>
